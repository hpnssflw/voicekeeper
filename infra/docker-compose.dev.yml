# Development override для docker-compose.yml
# Использование: docker compose -f docker-compose.yml -f docker-compose.dev.yml up

version: '3.9'

services:
  bot:
    # В dev режиме можно монтировать код для hot-reload
    # volumes:
    #   - ../packages/bot:/app
    #   - /app/node_modules
    environment:
      - NODE_ENV=development
    command: ["npm", "run", "dev"]  # Если есть dev скрипт

  webapp:
    environment:
      - NODE_ENV=development
      - NEXT_PUBLIC_API_BASE=http://localhost:8080  # Для локального доступа
    # volumes:
    #   - ../packages/webapp:/app
    #   - /app/node_modules
    #   - /app/.next

  admin:
    environment:
      - NODE_ENV=development
      - NEXT_PUBLIC_API_BASE=http://localhost:8080
      - NEXT_PUBLIC_DEMO_MODE=true  # Включаем demo mode для разработки
    # volumes:
    #   - ../packages/admin:/app
    #   - /app/node_modules
    #   - /app/.next

